@model DashboardVM

<div class="container-fluid py-2">
	<div class="row">
		<div class="ms-3" style="padding:0 !important;">
			<h2>Sales & Stock Performance</h2>
			<p class="mb-4">

			</p>
		</div>

		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Number of Branches</p>
							<h4 class="mb-0">@Model.NumOfBranches.ToString("N0")</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">store</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					<p class="mb-0 text-sm"><span class="text-success font-weight-bolder">+ @Model.NewBranchesYearly.ToString("N0") </span>New branches this year</p>
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Total Registered Stock Items</p>
							<h4 class="mb-0">@Model.NumOfStockItems.ToString("N0")</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">styler</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					<p class="mb-0 text-sm"><span class="text-success font-weight-bolder">+ @Model.NewItemsMonthly.ToString("N0") </span>New items this month</p>
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							@if (Model.MonthlySalesRate == -1)
							{
								<p class="text-sm mb-0 text-capitalize">Sales of Month</p>
								<h4 class="mb-0">E£ 0</h4>
							}
							else
							{
								<p class="text-sm mb-0 text-capitalize">Sales of Month</p>
								<h4 class="mb-0">E£ @Model.SalesOfMonth.ToString("N0")</h4>
							}
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">paid</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					@if (Model.MonthlySalesRate == -2)
					{
						<p class="mb-0 text-sm">No invoices last month</p>
					}
					else if (Model.MonthlySalesRate == -1)
					{
						<p class="mb-0 text-sm"><span class="font-weight-bolder">0 % </span>than last month</p>
					}
					else
					{
						<p class="mb-0 text-sm">
							<span class="@(Model.MonthlySalesRate >= 0 ? "text-success" : "text-danger") font-weight-bolder">
								@(Model.MonthlySalesRate > 0 ? "+" : "")@Model.MonthlySalesRate.ToString("N1") %
							</span>
							than last month
						</p>
					}
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							@if (Model.DailySalesRate == -1)
							{
								<p class="text-sm mb-0 text-capitalize">Sales of Today</p>
								<h4 class="mb-0">E£ 0</h4>
							}
							else
							{
								<p class="text-sm mb-0 text-capitalize">Sales of Today</p>
								<h4 class="mb-0">E£ @Model.SalesOfToday.ToString("N0")</h4>
							}
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">paid</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					@if (Model.DailySalesRate == -2)
					{
						<p class="mb-0 text-sm">No invoices yesterday</p>
					}
					else if (Model.DailySalesRate == -1)
					{
						<p class="mb-0 text-sm"><span class="font-weight-bolder">0 % </span>than yesterday</p>
					}
					else
					{
						<p class="mb-0 text-sm">
							<span class="@(Model.DailySalesRate >= 0 ? "text-success" : "text-danger") font-weight-bolder">
								@(Model.DailySalesRate > 0 ? "+" : "")@Model.DailySalesRate.ToString("N1") %
							</span>
							than yesterday
						</p>
					}
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4 mt-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p style="font-size:small;">Average Invoice Value This Month</p>
							@if (Model.AvgInvValRate == -1)
							{
								<h6 class="mb-0">No Invoices This Month</h6>
							}
							else
							{
								<h4 class="mb-0">E£ @Model.AvgInvValMonth.ToString("N1")</h4>
							}
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">receipt_long</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					@if (Model.AvgInvValRate == -2)
					{
						<p class="mb-0 text-sm">No invoices last month</p>
					}
					else if (Model.AvgInvValRate == -1)
					{
						<p class="mb-0 text-sm">
							<span class="font-weight-bolder">
								0 %
							</span>
							than last month
						</p>
					}
					else
					{
						<p class="mb-0 text-sm">
							<span class="@(Model.AvgInvValRate >= 0 ? "text-success" : "text-danger") font-weight-bolder">
								@(Model.AvgInvValRate > 0 ? "+" : "")@Model.AvgInvValRate.ToString("N1") %
							</span>
							than last month
						</p>
					}
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4 mt-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p style="font-size:small;">Average Sales per Day This Month</p>
							@if (Model.AvgSalesPerDayRate == -1)
							{
								<h6 class="mb-0">No Invoices This Month</h6>
							}
							else
							{
								<h4 class="mb-0">E£ @Model.AvgSalesPerDay.ToString("N1")</h4>
							}
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">receipt_long</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					@if (Model.AvgSalesPerDayRate == -2)
					{
						<p class="mb-0 text-sm">No invoices last month</p>
					}
					else if (Model.AvgSalesPerDayRate == -1)
					{
						<p class="mb-0 text-sm">
							<span class="font-weight-bolder">
								0 %
							</span>
							than last month
						</p>
					}
					else
					{
						<p class="mb-0 text-sm">
							<span class="@(Model.AvgSalesPerDayRate >= 0 ? "text-success" : "text-danger") font-weight-bolder">
								@(Model.AvgSalesPerDayRate > 0 ? "+" : "")@Model.AvgSalesPerDayRate.ToString("N1") %
							</span>
							than last month
						</p>
					}
				</div>
			</div>
		</div>

		<div class="col-xl-6 col-sm-6 mb-xl-0 mb-4 mt-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize" style="padding-bottom:16px;">Total Stock Value</p>
							<h4 class="mb-0">E£ @Model.TotalStockVal.ToString("N0")</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">warehouse</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3" style="padding-bottom:30px !important;">
					<p class="mb-0 text-sm"></p>
				</div>
			</div>
		</div>


		<!--Charts-->
		<div class="col-lg-6 col-md-12 mb-4" style="margin-top:24px !important;">
			<div class="card">
				<div class="card-body">
					<h6 class="mb-0">Total Sales (Monthly)</h6>
					<p class="text-sm">Revenue generated from all branches.</p>
					<div class="pe-2">
						<div class="chart">
							<canvas id="total-sales-chart" class="chart-canvas" height="170"></canvas>
						</div>
					</div>
					<hr class="dark horizontal">
					<div class="d-flex">
						<i class="material-symbols-rounded text-sm my-auto me-1">schedule</i>
						<p class="mb-0 text-sm"> Data updated every hour</p>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-6 col-md-12 mb-4" style="margin-top:24px !important;">
			<div class="card">
				<div class="card-body">
					<h6 class="mb-0">Total Purchasing (Monthly)</h6>
					<p class="text-sm">Total cost of new inventory received.</p>
					<div class="pe-2">
						<div class="chart">
							<canvas id="total-purchasing-chart" class="chart-canvas" height="170"></canvas>
						</div>
					</div>
					<hr class="dark horizontal">
					<div class="d-flex">
						<i class="material-symbols-rounded text-sm my-auto me-1">schedule</i>
						<p class="mb-0 text-sm"> Data updated daily </p>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-6 col-md-6 mb-md-0 mb-4">
			<div class="card">
				<div class="card-header pb-0">
					<div class="row">
						<div class="col-lg-6 col-7">
							<h6>Best-Selling Branches</h6>
							<p class="text-sm mb-0">
								<i class="fa fa-arrow-up text-success" aria-hidden="true"></i>
								<span class="font-weight-bold ms-1">Top 5</span> by total sales
							</p>
						</div>
					</div>
				</div>
				<div class="card-body px-0 pb-2">
					<div class="table-responsive">
						<table class="table align-items-center mb-0">
							<thead>
								<tr>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Branch</th>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2 text-center">Total Sales</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0 text-sm">Tawheed & Nour - Cairo</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center text-sm">
										<span class="text-xs font-weight-bold">$125,000</span>
									</td>
								</tr>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0 text-sm">Tawheed & Nour - Giza</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center text-sm">
										<span class="text-xs font-weight-bold">$98,000</span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-6 col-md-6">
			<div class="card h-100">
				<div class="card-header pb-0">
					<h6>Best-Selling Items</h6>
					<p class="text-sm">
						<i class="fa fa-fire text-danger" aria-hidden="true"></i>
						<span class="font-weight-bold">Top 10</span> by quantity sold
					</p>
				</div>
				<div class="card-body p-3">
					<div class="timeline timeline-one-side">
						<div class="timeline-block mb-3">
							<span class="timeline-step">
								<i class="material-symbols-rounded text-info text-gradient">shopping_bag</i>
							</span>
							<div class="timeline-content">
								<h6 class="text-dark text-sm font-weight-bold mb-0">Short Sleeve Shirt</h6>
								<p class="text-secondary font-weight-bold text-xs mt-1 mb-0">Qty Sold: 4,500</p>
							</div>
						</div>
						<div class="timeline-block mb-3">
							<span class="timeline-step">
								<i class="material-symbols-rounded text-info text-gradient">shopping_bag</i>
							</span>
							<div class="timeline-content">
								<h6 class="text-dark text-sm font-weight-bold mb-0">Sporting Hat</h6>
								<p class="text-secondary font-weight-bold text-xs mt-1 mb-0">Qty Sold: 3,200</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-6 col-md-6 mb-md-0 mb-4" style="margin-top:24px !important;">
			<div class="card">
				<div class="card-header pb-0">
					<h6>Low-Stock Alerts</h6>
					<p class="text-sm">
						Items with quantity below the reorder point.
					</p>
				</div>
				<div class="card-body px-0 pb-2">
					<div class="table-responsive">
						<table class="table align-items-center mb-0">
							<thead>
								<tr>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Item Name</th>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Current Stock</th>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Reorder Point</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><h6 class="mb-0 text-sm ps-3">Blue T-Shirt - M</h6></td>
									<td><span class="text-xs font-weight-bold">10</span></td>
									<td><span class="text-xs font-weight-bold">15</span></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-6 col-md-6" style="margin-top:24px !important;">
			<div class="card h-100">
				<div class="card-header pb-0">
					<h6>Slow-Moving Items</h6>
					<p class="text-sm">
						Items that haven't sold in a long time.
					</p>
				</div>
				<div class="card-body p-3">
					<div class="timeline timeline-one-side">
						<div class="timeline-block mb-3">
							<span class="timeline-step">
								<i class="material-symbols-rounded text-danger text-gradient">luggage</i>
							</span>
							<div class="timeline-content">
								<h6 class="text-dark text-sm font-weight-bold mb-0">Winter Coat - XL</h6>
								<p class="text-secondary font-weight-bold text-xs mt-1 mb-0">Last Sold: 180 days ago</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>