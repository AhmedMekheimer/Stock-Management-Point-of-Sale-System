@model DashboardVM

<div class="container-fluid py-2">
	<div class="row">
		<div class="ms-3" style="padding:0 !important;">
			<h2>Sales & Stock Performance</h2>
			<p class="mb-4">

			</p>
		</div>

		<!-- #region Top 4 Original KPIs -->
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Number of Branches</p>
							<h4 class="mb-0">@Model.NumOfBranches</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">store</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					<p class="mb-0 text-sm"><span class="text-success font-weight-bolder">+ @Model.NewBranchesYearly </span>New branches this year</p>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Number of Users</p>
							<h4 class="mb-0">@Model.NumOfUsers</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">group</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					<p class="mb-0 text-sm"><span class="text-success font-weight-bolder">+ @Model.NewUsersMonthly </span>New users this month</p>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Total Stock Items</p>
							<h4 class="mb-0">@Model.NumOfStockItems</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">inventory</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					<p class="mb-0 text-sm"><span class="text-success font-weight-bolder">+ @Model.NewItemsMonthly </span>New items this month</p>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Average Invoice Value This Month</p>
							@if (Model.AvgInvValStatus == -1)
							{
								<h4 class="mb-0">No Invoices This Month Yet</h4>
							}
							else
							{
								<h4 class="mb-0">E£ @Model.AvgInvValMonth</h4>
							}
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">receipt_long</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					@if (Model.AvgInvValStatus == -2)
					{
						<p class="mb-0 text-sm"><span class="text-success font-weight-bolder">No invoices last month </span></p>
					}
					else
					{
						<p class="mb-0 text-sm">
							<span class="text-success font-weight-bolder">
								@(Model.AvgInvValRate > 0 ? "+" : "") @Model.AvgInvValRate %
							</span>
							than last month
						</p>
					}
				</div>
			</div>
		</div>
		<!-- #endregion -->
		<!-- #region New KPIs -->
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4 mt-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Stock-to-Sales Ratio</p>
							<h4 class="mb-0">2.5:1</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">balance</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					<p class="mb-0 text-sm"><span class="text-success font-weight-bolder">+10% </span>than last month</p>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4 mt-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Total Inventory Value</p>
							<h4 class="mb-0">$250,000</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">attach_money</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					<p class="mb-0 text-sm"><span class="text-danger font-weight-bolder">-5% </span>than last month</p>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4 mt-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Average Sales per Day</p>
							<h4 class="mb-0">$1,500</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">calendar_month</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					<p class="mb-0 text-sm"><span class="text-success font-weight-bolder">+8% </span>than last month</p>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4 mt-4">
			<div class="card">
				<div class="card-header p-2 ps-3">
					<div class="d-flex justify-content-between">
						<div>
							<p class="text-sm mb-0 text-capitalize">Purchasing vs. Sales (by Quantity)</p>
							<h4 class="mb-0">95%</h4>
						</div>
						<div class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg">
							<i class="material-symbols-rounded opacity-10">sync_alt</i>
						</div>
					</div>
				</div>
				<hr class="dark horizontal my-0">
				<div class="card-footer p-2 ps-3">
					<p class="mb-0 text-sm"><span class="text-danger font-weight-bolder">-2% </span>than last month</p>
				</div>
			</div>
		</div>
		<!-- #endregion -->
		<!-- #region Charts -->

		<div class="col-lg-6 col-md-12 mb-4" style="margin-top:24px !important;">
			<div class="card">
				<div class="card-body">
					<h6 class="mb-0">Total Sales (Monthly)</h6>
					<p class="text-sm">Revenue generated from all branches.</p>
					<div class="pe-2">
						<div class="chart">
							<canvas id="total-sales-chart" class="chart-canvas" height="170"></canvas>
						</div>
					</div>
					<hr class="dark horizontal">
					<div class="d-flex">
						<i class="material-symbols-rounded text-sm my-auto me-1">schedule</i>
						<p class="mb-0 text-sm"> Data updated every hour</p>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-6 col-md-12 mb-4" style="margin-top:24px !important;">
			<div class="card">
				<div class="card-body">
					<h6 class="mb-0">Total Purchasing (Monthly)</h6>
					<p class="text-sm">Total cost of new inventory received.</p>
					<div class="pe-2">
						<div class="chart">
							<canvas id="total-purchasing-chart" class="chart-canvas" height="170"></canvas>
						</div>
					</div>
					<hr class="dark horizontal">
					<div class="d-flex">
						<i class="material-symbols-rounded text-sm my-auto me-1">schedule</i>
						<p class="mb-0 text-sm"> Data updated daily </p>
					</div>
				</div>
			</div>
		</div>

		<!-- #endregion -->
		<!-- #region Bottom Tables -->
		<div class="col-lg-6 col-md-6 mb-md-0 mb-4">
			<div class="card">
				<div class="card-header pb-0">
					<div class="row">
						<div class="col-lg-6 col-7">
							<h6>Best-Selling Branches</h6>
							<p class="text-sm mb-0">
								<i class="fa fa-arrow-up text-success" aria-hidden="true"></i>
								<span class="font-weight-bold ms-1">Top 5</span> by total sales
							</p>
						</div>
					</div>
				</div>
				<div class="card-body px-0 pb-2">
					<div class="table-responsive">
						<table class="table align-items-center mb-0">
							<thead>
								<tr>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Branch</th>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2 text-center">Total Sales</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0 text-sm">Tawheed & Nour - Cairo</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center text-sm">
										<span class="text-xs font-weight-bold">$125,000</span>
									</td>
								</tr>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0 text-sm">Tawheed & Nour - Giza</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center text-sm">
										<span class="text-xs font-weight-bold">$98,000</span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-6 col-md-6">
			<div class="card h-100">
				<div class="card-header pb-0">
					<h6>Best-Selling Items</h6>
					<p class="text-sm">
						<i class="fa fa-fire text-danger" aria-hidden="true"></i>
						<span class="font-weight-bold">Top 10</span> by quantity sold
					</p>
				</div>
				<div class="card-body p-3">
					<div class="timeline timeline-one-side">
						<div class="timeline-block mb-3">
							<span class="timeline-step">
								<i class="material-symbols-rounded text-info text-gradient">shopping_bag</i>
							</span>
							<div class="timeline-content">
								<h6 class="text-dark text-sm font-weight-bold mb-0">Short Sleeve Shirt</h6>
								<p class="text-secondary font-weight-bold text-xs mt-1 mb-0">Qty Sold: 4,500</p>
							</div>
						</div>
						<div class="timeline-block mb-3">
							<span class="timeline-step">
								<i class="material-symbols-rounded text-info text-gradient">shopping_bag</i>
							</span>
							<div class="timeline-content">
								<h6 class="text-dark text-sm font-weight-bold mb-0">Sporting Hat</h6>
								<p class="text-secondary font-weight-bold text-xs mt-1 mb-0">Qty Sold: 3,200</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<div class="col-lg-6 col-md-6 mb-md-0 mb-4" style="margin-top:24px !important;">
			<div class="card">
				<div class="card-header pb-0">
					<h6>Low-Stock Alerts</h6>
					<p class="text-sm">
						Items with quantity below the reorder point.
					</p>
				</div>
				<div class="card-body px-0 pb-2">
					<div class="table-responsive">
						<table class="table align-items-center mb-0">
							<thead>
								<tr>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Item Name</th>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Current Stock</th>
									<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Reorder Point</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><h6 class="mb-0 text-sm ps-3">Blue T-Shirt - M</h6></td>
									<td><span class="text-xs font-weight-bold">10</span></td>
									<td><span class="text-xs font-weight-bold">15</span></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-6 col-md-6" style="margin-top:24px !important;">
			<div class="card h-100">
				<div class="card-header pb-0">
					<h6>Slow-Moving Items</h6>
					<p class="text-sm">
						Items that haven't sold in a long time.
					</p>
				</div>
				<div class="card-body p-3">
					<div class="timeline timeline-one-side">
						<div class="timeline-block mb-3">
							<span class="timeline-step">
								<i class="material-symbols-rounded text-danger text-gradient">luggage</i>
							</span>
							<div class="timeline-content">
								<h6 class="text-dark text-sm font-weight-bold mb-0">Winter Coat - XL</h6>
								<p class="text-secondary font-weight-bold text-xs mt-1 mb-0">Last Sold: 180 days ago</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- #endregion -->
	</div>
</div>